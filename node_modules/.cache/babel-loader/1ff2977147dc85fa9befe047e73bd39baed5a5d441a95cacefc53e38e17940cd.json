{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useSearchParams,useNavigate}from'react-router-dom';import AuthService from'../../services/auth.service';import Loading from'../../components/common/Loading';import toast from'react-hot-toast';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const VerifyEmailPage=()=>{const[searchParams]=useSearchParams();const navigate=useNavigate();const[status,setStatus]=useState('verifying');// verifying, success, error\nuseEffect(()=>{const verifyEmail=async()=>{const token=searchParams.get('token');if(!token){setStatus('error');toast.error('Invalid verification link');return;}try{await AuthService.verifyEmail(token);setStatus('success');toast.success('Email verified successfully!');setTimeout(()=>{navigate('/login');},3000);}catch(error){var _error$response,_error$response$data;setStatus('error');toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Verification failed');}};verifyEmail();},[searchParams,navigate]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-[80vh] flex items-center justify-center bg-gray-50 py-12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center\",children:[status==='verifying'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loading,{}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-4 text-xl font-semibold text-gray-900\",children:\"Verifying your email...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Please wait\"})]}),status==='success'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-green-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-4 text-xl font-semibold text-gray-900\",children:\"Email Verified!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Your email has been successfully verified. Redirecting to login...\"})]}),status==='error'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-red-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-4 text-xl font-semibold text-gray-900\",children:\"Verification Failed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"The verification link is invalid or has expired.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/login'),className:\"mt-4 btn btn-primary\",children:\"Go to Login\"})]})]})});};export default VerifyEmailPage;","map":{"version":3,"names":["React","useEffect","useState","useSearchParams","useNavigate","AuthService","Loading","toast","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","VerifyEmailPage","searchParams","navigate","status","setStatus","verifyEmail","token","get","error","success","setTimeout","_error$response","_error$response$data","response","data","message","className","children","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick"],"sources":["F:/projects/e-com/frontend/src/pages/auth/VerifyEmailPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSearchParams, useNavigate } from 'react-router-dom';\r\nimport AuthService from '../../services/auth.service';\r\nimport Loading from '../../components/common/Loading';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst VerifyEmailPage = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const navigate = useNavigate();\r\n  const [status, setStatus] = useState('verifying'); // verifying, success, error\r\n\r\n  useEffect(() => {\r\n    const verifyEmail = async () => {\r\n      const token = searchParams.get('token');\r\n      \r\n      if (!token) {\r\n        setStatus('error');\r\n        toast.error('Invalid verification link');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await AuthService.verifyEmail(token);\r\n        setStatus('success');\r\n        toast.success('Email verified successfully!');\r\n        setTimeout(() => {\r\n          navigate('/login');\r\n        }, 3000);\r\n      } catch (error) {\r\n        setStatus('error');\r\n        toast.error(error.response?.data?.message || 'Verification failed');\r\n      }\r\n    };\r\n\r\n    verifyEmail();\r\n  }, [searchParams, navigate]);\r\n\r\n  return (\r\n    <div className=\"min-h-[80vh] flex items-center justify-center bg-gray-50 py-12 px-4\">\r\n      <div className=\"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center\">\r\n        {status === 'verifying' && (\r\n          <>\r\n            <Loading />\r\n            <h2 className=\"mt-4 text-xl font-semibold text-gray-900\">\r\n              Verifying your email...\r\n            </h2>\r\n            <p className=\"mt-2 text-gray-600\">Please wait</p>\r\n          </>\r\n        )}\r\n\r\n        {status === 'success' && (\r\n          <>\r\n            <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100\">\r\n              <svg className=\"h-6 w-6 text-green-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n              </svg>\r\n            </div>\r\n            <h2 className=\"mt-4 text-xl font-semibold text-gray-900\">\r\n              Email Verified!\r\n            </h2>\r\n            <p className=\"mt-2 text-gray-600\">\r\n              Your email has been successfully verified. Redirecting to login...\r\n            </p>\r\n          </>\r\n        )}\r\n\r\n        {status === 'error' && (\r\n          <>\r\n            <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100\">\r\n              <svg className=\"h-6 w-6 text-red-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </div>\r\n            <h2 className=\"mt-4 text-xl font-semibold text-gray-900\">\r\n              Verification Failed\r\n            </h2>\r\n            <p className=\"mt-2 text-gray-600\">\r\n              The verification link is invalid or has expired.\r\n            </p>\r\n            <button\r\n              onClick={() => navigate('/login')}\r\n              className=\"mt-4 btn btn-primary\"\r\n            >\r\n              Go to Login\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VerifyEmailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}